<div class="servicios-container">
  <h1>Servicios Disponibles</h1>

  <section class="category-section">
    <h2>Casamientos (Fotos)</h2>
    @if (fotos.length === 0) {
      <p>No hay servicios de casamientos disponibles.</p>
    } @else {
      <div class="services-grid">
        @for (foto of fotos; track foto.id) {
          <div class="servicio-card" [class.in-cart]="isInCart(foto.id)"> <img [src]="foto.imagen" alt="{{ foto.nombre }}">
            <h3>{{ foto.nombre }}</h3>
            <p>{{ foto.descripcion }}</p>
            <p>Precio: ${{ foto.precio }}</p>
            <button (click)="toggleCart(foto)"
                    [class.btn-success]="!isInCart(foto.id)"
                    [class.btn-danger]="isInCart(foto.id)">
              {{ isInCart(foto.id) ? 'Quitar del carrito' : 'Añadir al carrito' }}
            </button>
          </div>
        }
      </div>
    }
  </section>

  <section class="category-section">
    <h2>Cumpleaños (Videos)</h2>
    @if (videos.length === 0) {
      <p>No hay servicios de videos disponibles.</p>
    } @else {
      <div class="services-grid">
        @for (video of videos; track video.id) {
          <div class="servicio-card" [class.in-cart]="isInCart(video.id)">
            <img [src]="video.imagen" alt="{{ video.nombre }}">
            <h3>{{ video.nombre }}</h3>
            <p>{{ video.descripcion }}</p>
            <p>Precio: ${{ video.precio }}</p>
            <button (click)="toggleCart(video)"
                    [class.btn-success]="!isInCart(video.id)"
                    [class.btn-danger]="isInCart(video.id)">
              {{ isInCart(video.id) ? 'Quitar del carrito' : 'Añadir al carrito' }}
            </button>
          </div>
        }
      </div>
    }
  </section>

  <section class="category-section">
    <h2>Extras</h2>
    @if (extras.length === 0) {
      <p>No hay extras disponibles.</p>
    } @else {
      <div class="services-grid">
        @for (extra of extras; track extra.id) {
          <div class="servicio-card" [class.in-cart]="isInCart(extra.id)">
            <img [src]="extra.imagen" alt="{{ extra.nombre }}">
            <h3>{{ extra.nombre }}</h3>
            <p>{{ extra.descripcion }}</p>
            @if (extra.duracion) {
              <p>Duración: {{ extra.duracion }}</p>
            }
            <p>Precio: ${{ extra.precio }}</p>
            <button (click)="toggleCart(extra)"
                    [class.btn-success]="!isInCart(extra.id)"
                    [class.btn-danger]="isInCart(extra.id)">
              {{ isInCart(extra.id) ? 'Quitar del carrito' : 'Añadir al carrito' }}
            </button>
          </div>
        }
      </div>
    }
  </section>

  <div class="cart-summary">
    <h3>Total Carrito: ${{ totalCarrito }}</h3>
    <button (click)="pagar()">Ir al Carrito</button>
  </div>
</div>
