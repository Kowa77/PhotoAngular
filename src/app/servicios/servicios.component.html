@if (fotos.length > 0) {
  <section class="category-section category-fotos">
    <h2>Servicios de Fotografía</h2>
    <div class="services-grid">
      @for (servicio of fotos; track servicio.id) {
        <div class="servicio-card" [class.in-cart]="isInCart(servicio.id)">
          <img [src]="servicio.imagen" alt="{{ servicio.nombre }}">
          <h3>{{ servicio.nombre }}</h3>
          <p>{{ servicio.descripcion }}</p>
          <p class="precio-texto">Precio: {{ servicio.precio | currency:'USD':'symbol':'1.2-2' }}</p>
          <button (click)="toggleCart(servicio)"
                  [class.btn-success]="!isInCart(servicio.id)"
                  [class.btn-danger]="isInCart(servicio.id)"
                  [disabled]="!currentUserUid">
            {{ isInCart(servicio.id) ? 'Quitar del Carrito' : 'Añadir al Carrito' }}
          </button>
        </div>
      }
    </div>
  </section>
}

@if (videos.length > 0) {
  <section class="category-section category-videos">
    <h2>Servicios de Video</h2>
    <div class="services-grid">
      @for (servicio of videos; track servicio.id) {
        <div class="servicio-card" [class.in-cart]="isInCart(servicio.id)">
          <img [src]="servicio.imagen" alt="{{ servicio.nombre }}">
          <h3>{{ servicio.nombre }}</h3>
          <p>{{ servicio.descripcion }}</p>
          @if (servicio.duracion) { <p>Duración: {{ servicio.duracion }}</p> }
          <p class="precio-texto">Precio: {{ servicio.precio | currency:'USD':'symbol':'1.2-2' }}</p>
          <button (click)="toggleCart(servicio)"
                  [class.btn-success]="!isInCart(servicio.id)"
                  [class.btn-danger]="isInCart(servicio.id)"
                  [disabled]="!currentUserUid">
            {{ isInCart(servicio.id) ? 'Quitar del Carrito' : 'Añadir al Carrito' }}
          </button>
        </div>
      }
    </div>
  </section>
}

@if (extras.length > 0) {
  <section class="category-section category-extras">
    <h2>Servicios Extras</h2>
    <div class="services-grid">
      @for (servicio of extras; track servicio.id) {
        <div class="servicio-card" [class.in-cart]="isInCart(servicio.id)">
          <img [src]="servicio.imagen" alt="{{ servicio.nombre }}">
          <h3>{{ servicio.nombre }}</h3>
          <p>{{ servicio.descripcion }}</p>
          @if (servicio.duracion) { <p>Duración: {{ servicio.duracion }}</p> }
          <p class="precio-texto">Precio: {{ servicio.precio | currency:'USD':'symbol':'1.2-2' }}</p>
          <button (click)="toggleCart(servicio)"
                  [class.btn-success]="!isInCart(servicio.id)"
                  [class.btn-danger]="isInCart(servicio.id)"
                  [disabled]="!currentUserUid">
            {{ isInCart(servicio.id) ? 'Quitar del Carrito' : 'Añadir al Carrito' }}
          </button>
        </div>
      }
    </div>
  </section>
}

@if (currentCategory !== 'extras') {
<div class="extras-banner-container">
  <div class="extras-banner">
    <a [routerLink]="['/servicios', 'extras']" class="btn btn-warning btn-lg">
      <i class="bi bi-star-fill"></i> ¿Quieres añadir más magia a tu evento? Descubre nuestros Servicios Extras. <i class="bi bi-arrow-right"></i>
    </a>
  </div>
</div>
}
