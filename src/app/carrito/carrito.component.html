<div class="container my-4">
  <h2>Tu Carrito</h2>

  @if (carritoItems.length === 0) {
    <p>Tu carrito está vacío.</p>
  } @else {
    <ul class="list-group mb-3">
      @for (item of carritoItems; track item.id) {
        <li class="list-group-item d-flex justify-content-between lh-condensed">
          <div class="d-flex align-items-center">
            <img [src]="item.imagen" [alt]="item.nombre" width="50" height="50" class="me-3 rounded">
            <div>
              <strong>{{ item.nombre }}</strong>
              <p class="mb-0">${{ item.precio | number:'1.0-0' }}</p>
            </div>
          </div>
          <span class="text-muted">
            <button class="btn btn-danger btn-sm" (click)="removeFromCart(item)">Quitar</button>
          </span>
        </li>
      }
    </ul>

    <div class="d-flex justify-content-between align-items-center">
      <h4>Total: ${{ totalCarrito | number:'1.0-0' }}</h4>
      <div>
        <button class="btn btn-success me-2" (click)="checkout()">Finalizar Compra</button>
        <a [href]="'https://wa.me/XXXXXXXXXX?text=' + generarResumenPedido()" target="_blank" class="btn btn-info">
          Pedir por WhatsApp
        </a>
        <button class="btn btn-warning ms-2" (click)="clearCart()">Vaciar Carrito</button> </div>
    </div>
  }
</div>
